# FMO 日志查看器

用于查看本地 FMO 日志的 Web 应用，支持多数据库文件加载、多种查询模式以及 FMO 设备管理。

## ✨ 主要功能

### 📁 数据导入与导出

- **导入 FMO 日志**：支持导入一个或多个 `.db` 格式的日志文件
- **FMO 同步**：
  - **自动同步**：配置 FMO 地址后，自动检测并提示同步今日消息
  - **手动同步**：一键同步今日通联记录
- **数据持久化**：使用 IndexedDB 存储，刷新页面数据不丢失
- **数据导出**：将当前查看的日志数据导出为 `.db` 文件
- **日志备份**：一键从 FMO 设备下载完整的日志备份文件

### 📡 服务器与设备管理

- **服务器列表**：查看所有可用服务器（Station）状态
- **服务器切换**：支持切换当前连接的服务器（上一台/下一台/列表选择）
- **实时监控**：
  - **发言状态**：实时显示当前正在发言的呼号及发言历史
  - **状态监控**：标题栏显示服务器连接状态
- **远程控制**：提供 FMO 远程控制页面的快捷访问入口

### 📊 专业查询模式

#### 1. 综合日志视图

- **全量记录**：按时间倒序展示所有通联日志
- **智能搜索**：支持按接收方呼号实时模糊搜索
- **当日序号**：高亮显示当日通联序号（前三名金银铜色高亮）
- **详细信息**：展示呼号、网格、频率、模式、中继及留言信息

#### 2. 通联排名（TOP20）

- **多维统计**：接收方呼号、网格、中继使用频率的 TOP20 排名
- **数据筛选**：支持按发送方呼号筛选统计结果

#### 3. 老朋友视图

- **卡片展示**：以卡片形式展示历史通联过的友台
- **状态标识**：今日通联过的友台显示绿色高亮
- **历史回溯**：点击卡片即可查看与该友台的所有历史通联记录

### 🛠️ 实用工具

- **FMO 地址配置**：支持 IP 或 `fmo.local` 域名（自动处理 mDNS）
- **友情链接**：内置 FMO 地图、实践分享等常用资源链接
- **暗色模式**：自动跟随系统主题，提供舒适的夜间使用体验

## 🚀 使用指南

### 快速开始

1. **配置设备**：点击右上角设置图标，输入 FMO 设备地址（如 `fmo.local` 或 IP）
2. **同步数据**：点击"同步今日通联"获取最新数据，或手动导入 `.db` 文件
3. **开始使用**：在首页查看日志、统计或管理服务器

### mDNS 支持

- **桌面端**：推荐使用 `fmo.local` 直接连接
- **移动端**：部分设备可能需要输入具体 IP 地址

### 常见操作

- **切换服务器**：在"发言状态条"点击服务器名称，或在"发言历史"弹框中切换
- **导出/备份**：
  - **导出数据文件**：将当前网页中查看到的日志保存到本地
  - **备份 FMO 日志**：从 FMO 设备下载原始日志文件

## 💻 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器（支持局域网访问）
npm run dev -- --host

# 代码格式化
npm run format

# 代码检查
npm run lint
```

## 📝 技术栈

- **核心框架**：Vue 3 + Vite
- **状态管理**：Pinia
- **数据存储**：SQLite (sql.js) + IndexedDB
- **通信协议**：WebSocket (实时事件) + HTTP
- **路由管理**：Vue Router

## 📦 构建部署

```bash
npm run build
```

构建产物位于 `dist/` 目录，可部署至任何静态文件服务器。
